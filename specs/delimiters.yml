tests:
  - name: Single Sigil
    data: { text: 'Hey!' }
    template: '{{=<% %>}}(<%text%>)'
    expected: '(Hey!)'

  - name: Mirrored Sigil
    data: { text: 'Hey!' }
    template: '{{=<% %>=}}(<%text%>)'
    expected: '(Hey!)'

  # Whitespace Sensitivity

  - name: Single Sigil Respects Surrounding Whitespace
    data: { }
    template: '| {{=@ @}} |'
    expected: '|  |'

  - name: Mirrored Sigil Respects Surrounding Whitespace
    data: { }
    template: '| {{=@ @=}} |'
    expected: '|  |'

  - name: Inlined Single Sigil Respects Indentation
    data: { }
    template: ' | {{=@ @}}'
    expected: ' | '

  - name: Inlined Mirrored Sigil Respects Indentation
    data: { }
    template: ' | {{=@ @=}}'
    expected: ' | '

  - name: Disregard Single Sigil Line
    data: { }
    template: |
      Begin.
      {{=@ @}}
      End.
    expected: |
      Begin.
      End.

  - name: Disregard Mirrored Sigil Line
    data: { }
    template: |
      Begin.
      {{=@ @=}}
      End.
    expected: |
      Begin.
      End.

  - name: Disregard Indented Single Sigil Line
    data: { }
    template: |
      Begin.
        {{=@ @}}
      End.
    expected: |
      Begin.
      End.

  - name: Disregard Indented Mirrored Sigil Line
    data: { }
    template: |
      Begin.
        {{=@ @=}}
      End.
    expected: |
      Begin.
      End.

  # Whitespace Insensitivity

  - name: Single Sigil Ignores Padding Whitespace
    data: { }
    template: '|{{= @ @ }}|'
    expected: '||'

  - name: Mirrored Sigil Ignores Padding Whitespace
    data: { }
    template: '|{{= @ @ =}}|'
    expected: '||'
