tests:
  - name: Basic Behavior Using '>'
    data: { }
    template: '"{{>text}}"'
    partials: { text: 'from partial' }
    expected: '"from partial"'

  - name: Basic Behavior Using '<'
    data: { }
    template: '"{{<text}}"'
    partials: { text: 'from partial' }
    expected: '"from partial"'

  - name: Grabbing Context Using '>'
    data: { text: 'content' }
    template: '"{{>partial}}"'
    partials: { partial: '*{{text}}*' }
    expected: '"*content*"'

  - name: Grabbing Context Using '<'
    data: { text: 'content' }
    template: '"{{<partial}}"'
    partials: { partial: '*{{text}}*' }
    expected: '"*content*"'

  - name: Recursion Using '>'
    data: { content: X, nodes: [ { content: Y, nodes: [] } ] }
    template: '{{>node}}'
    partials: { node: '{{content}}<{{#nodes}}{{>node}}{{/nodes}}>' }
    expected: 'X<Y<>>'

  - name: Recursion Using '<'
    data: { content: X, nodes: [ { content: Y, nodes: [] } ] }
    template: '{{<node}}'
    partials: { node: '{{content}}<{{#nodes}}{{<node}}{{/nodes}}>' }
    expected: 'X<Y<>>'

  # Whitespace Sensitivity

  - name: Respects Surrounding Whitespace Using '>'
    data: { }
    template: '| {{>partial}} |'
    partials: { partial: "\t|\t" }
    expected: "| \t|\t |"

  - name: Respects Surrounding Whitespace Using '<'
    data: { }
    template: '| {{<partial}} |'
    partials: { partial: "\t|\t" }
    expected: "| \t|\t |"

  - name: Respects Indentation Using '>'
    data: { }
    template: |
      \
       {{>partial}}
      /
    partials:
      partial: |
        |
        |
    expected: |
      \
       |
       |
      /

  - name: Respects Indentation Using '<'
    data: { }
    template: |
      \
       {{<partial}}
      /
    partials:
      partial: |
        |
        |
    expected: |
      \
       |
       |
      /

  # Whitespace Insensitivity

  - name: Ignores Padding Whitespace Using '>'
    data: { boolean: true }
    template: "|{{> partial }}|"
    partials: { partial: "=" }
    expected: '|=|'

  - name: Ignores Padding Whitespace Using '<'
    data: { boolean: true }
    template: "|{{< partial }}|"
    partials: { partial: "=" }
    expected: '|=|'
